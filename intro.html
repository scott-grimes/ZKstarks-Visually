<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<style>
canvas {
    border: 1px solid #d3d3d3;
    background-color: #f1f1f1;
}
</style>
<script type="text/javascript" src="js/threeColor.js"></script>
</head>
<body style="font-family: Verdana;">
  <table id="controls" style="margin-left: auto; margin-right: auto;width:600px;">
  <tbody><tr><td colspan="3">
  <h1>Zero Knowledge Proof</h1>
  <p>Below is an interactive demonstration of a <a href="http://en.wikipedia.org/wiki/Zero-knowledge_proof">zero knowledge proof
    protocol</a>. 
      
ZK proofs allow a "prover" to convince a "verifier" that they have the solution to some problem, without revealing their actual solution. In our example, we will be looking at a simple 3-color body problem. </p>

<p>Example Problem: You must fill in the following graph using only 3 colors, such that each vertex does not share an edge with another vertex of the same color</p>

<p>This graph is correctly solved / This graph does not have a solution</p>

<p>Obviously this is an simple example, but imagine having a graph with ten-thousand vertices!</p>

<p>Zero Knowledge Proof: Let's pretend you hire an intern to solve the problem for you, and they email you after a few weeks claiming they have the solution. Woohoo! Unfortunantly want to be paid before they hand over the solution. They put in a lot of work, and if they just hand over the solution you might skip out on the bill, and they want to be protected from getting scammed! But you also don't want to fork over the money without knowing they actually found a solution, for all you know they could have just filled the graph in with random numbers and be scamming you!</p>

<p>The Zero-Knowledge Protocol: You and the intern head to a warehouse and draw the graph on the floor. You leave the room, and the intern randomly shuffles their solution, swapping out the colors in the vertices on the floor, and then covers the vertices with tophats</p>

<p>At this point, you enter the room and are allowed to randomly pick any single edge, remove the two tophats, and reveal the connected vertices</p>

<p>If the intern was telling the truth, it does not matter which edge you pick, because if their solution was correct, the two colors will not match.</p>

<p>If the intern was lying, there is a chance that your random guess will reveal their mistake, an edge containing two verticies of the same color. The "best case" scenerio for a cheating intern is to fill the graph out correctly for all edges but one. On a graph with E edges, a cheating intern has a (E-1)/E probability of getting off scot-free. For example if the graph had 100 edges, there is a 99% chance of getting away with one bad edge.</p>

<p>Obviously, you want to be very confident, so you will repeat this trial several times. You step out of the warehouse and the intern randomly permutates the colors again in secret. In order to be very confident (negligible probability of being scammed), you need to complete E^2 trials.</p>

<p>Because the colors in the solution are randomly shuffled, and you can only ever see one edge at a time, it is impossible for you to reconstruct the solution. At the same time, this protocol allows you to verify with confidence the validity of the solution.</p>

<p>You try!</p>

  <p>You are the "verifier", pick an edge to reveal the colors below.</p>
  </td></tr>
  <tr><td id="main" colspan="3" style="height:400px"><svg style="height: 380px; width: 600px; cursor: default;"><defs>
    <marker id="Triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="4" markerHeight="3" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z"></path>
    </marker>
  </defs>
      <text dx="400" dy="200">Pick a Graph</text>
      <path d="M 310 200 L 400 280" fill="none" stroke="black" stroke-width="30" marker-end="url(#Triangle)"></path></svg></td></tr>
  <tr><td>
    <input type="submit" value="Reveal" id="reveal">
    <label for="turbo">Turbo:</label> <input type="checkbox" id="turbo">
  </td><td style="text-align:center">Confidence: <span id="confidence" style="color: black;">0</span>%
  </td><td style="text-align:right">
    <input type="submit" value="Honest Intern" id="honest" onclick="setup('honest')">
    <input type="submit" value="Dishonest Intern" id="tricky" onclick="setup('tricky')">
  </td></tr>
  <tr><td colspan="3" style="padding-top:2em;">
  <p>Note that the colors are shuffled between each trial. The prover must mix up the colorings between each trial, or else you could reverse engineer the solution.</p>
  <p>Click Turbo to speed things up. As you run more trials the probability that the prover is telling the truth (they have the correct solution)
  increases.</p>
  <p>The first graph has a solution, and we can quickly obtain >99% confidence that the prover is not pulling the wool over our eyes. The second graph does not have a solution. After a few runs we will discover the shared edge and refuse to pay the cheating intern for their "solution", which isn't valid!</p>
  </td></tr>
  </tbody></table>
  
  A Zero-Knowledge Proof must have three properties:

<ul><li>Completeness: if the statement is true (this graph has a solution), a honest verifier will be convinced of this fact by an honest prover.</li>
<li>Soundness: if the statement is false, no cheating prover can convince the honest verifier that it is true, except with some small probability. The dishonest intern (the second graph with no solution) is quickly discovered.</li>
<li>Zero-knowledge: if the statement is true, no verifier learns anything other than the fact that the statement is true. In our example, no amount of trials ran will ever allow us to reconstruct the solution, which remains secret, even though we can verify that the solution is correct.</li>
</ul>

Non-Interactive Proof

<p>The previous game works fine, but only if the prover is there to play along and shuffle colors inbetween our thousands of trial runs. The previous game was INTERACTIVE. We can improve on this be changing how it works and making it NON-INTERACTIVE. Instead of 

 
</body>
</html>
